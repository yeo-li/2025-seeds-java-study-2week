# java-musique

***

# 1. 전체 플로우

***

1. **뮤지컬 관람 희망 날짜**(3월 1일 ~ 31일)를 입력받는다.
2. **회차**(1회차: 오전 11시, 2회차: 오후 3시, 3회차: 오후 7시)를 입력받는다.
3. **좌석 등급**(VIP/R/S)과 **매수**(최대 4장)를 입력받는다. (중복 선택 가능)
4. **멤버십 등급**(없음/실버/골드/VIP)을 입력받는다.
5. **사전 예약 할인**(공연일 - 오늘일 ≥ 14일) + **멤버십 할인**을 적용해 최종 결제 금액을 안내한다.
6. **굿즈 증정 조건**(VIP/R/S 등급별 장수 조건)을 충족 시, 증정 품목 및 쿠폰 내역을 안내한다.

# 2. 시연 예시

```
(오늘 날짜: 3월 1일)

[안내] 뮤지컬 '봄맞이 사전 예약' 페이지입니다.
3월 중 관람 예정 날짜를 입력해 주세요.
> 20

선택하신 공연 날짜: 3월 20일

회차를 입력해 주세요. (1) 오전 11시, (2) 오후 3시, (3) 오후 7시)
> 3

좌석 등급과 개수를 알려 주세요. (예: VIP-2,R-1)
> VIP-1,R-2,S-1

멤버십 등급을 입력해 주세요. (없음/실버/골드/VIP)
> 없음

[좌석 내역]
- VIP 1장 (200,000원 × 1 = 200,000원)
- R   2장 (150,000원 × 2 = 300,000원)
- S   1장 (100,000원 × 1 = 100,000원)

할인 전 총액: 600,000원

[할인 적용]
- 사전 예약 할인: 10% (60,000원)
- 멤버십 할인: 없음
- 최종 결제 금액: 540,000원

[굿즈 증정 여부]
- VIP 등급 1장 이상 구매 (1장 구매) → 한정 포스터 증정
- R 등급 2장 이상 구매 (2장 구매) → 배우 사인 엽서 증정

--- 최종 명세서 ---
3월 20일 3회차(오후 7시)
- VIP 1장 (200,000원 × 1 = 200,000원)
- R   2장 (150,000원 × 2 = 300,000원)
- S   1장 (100,000원 × 1 = 100,000원)
굿즈 증정: 한정 포스터, 배우 사인 엽서
할인액: 60,000원
결제 금액: 540,000원

```

## 3. 기능 구현 목록

- [ ] 입력 및 출력 기능
    - [ ] 뮤지컬 관람 희망 날짜 입력 기능
    - [ ] 회차 입력 기능
    - [ ] 좌석 등급 입력 기능
    - [ ] 멤버십 등급 입력 기능
    - [ ] 예매 완료 출력 기능

- [ ] 할인 기능
    - [ ] 사전 예약 할인 기능
    - [ ] 멤버십 할인 기능
    - [ ] 중복 할인 기능

- [ ] 굿즈 증정 기능

- [ ] 유효성 검증 기능
    - [ ] 뮤지컬 관람 희망 날짜 입력 유효성 검증 기능
    - [ ] 회차 입력 유효성 검증 기능
    - [ ] 좌석 등급 입력 유효성 검증 기능
    - [ ] 멤버십 등급 입력 유효성 검증 기능

## 4. 예외 상황

- [ ] 날짜 입력 기능 예외 상황
    - [ ]  **범위 이탈** (0 이하 또는 32 이상)
      → `[ERROR] 날짜는 3월 1일부터 3월 31일 사이여야 합니다.`
    - [ ]  **이미 지난 날짜**(오늘이 3월 5일인데 공연일을 3월 4일로 입력)
      → `[ERROR] 이미 지난 날짜는 예약할 수 없습니다.`
    - [ ]  **마감된 날짜**(시스템에서 예매 종료로 처리된 공연일)
      → `[ERROR] 해당 날짜는 더 이상 예매할 수 없습니다.`
    - [ ]  **오늘 날짜와 3일 미만 차이** (예: 오늘 3월 2일, 공연 3월 4일 → 2일 차)
      → `[ERROR] 공연 최소 3일 전에는 예매하셔야 합니다. 다시 입력해 주세요.`
    - [ ]  **잘못된 형식** (문자, 특수문자 등)
      → `[ERROR] 날짜는 숫자로만 입력해 주세요.`

- [ ] 회차 입력 기능 예외 상황
    - [ ] 1~3 범위 외
      → [ERROR] 유효하지 않은 회차입니다. (1~3 사이 숫자를 입력해 주세요.)

- [ ] 좌석 등급 및 수량 입력 기능 예외 상황
    - [ ]  **존재하지 않는 등급**(VIP/R/S 외)
      → `[ERROR] 선택할 수 없는 좌석 등급입니다. (VIP/R/S 중 선택)`
    - [ ]  **수량이 0 이하 또는 4장 초과**
      → `[ERROR] 좌석 매수는 1~4장까지 가능합니다.`
    - [ ]  **입력 형식 오류** (예: `VIP2,R-2`)
      → `[ERROR] 올바른 입력 형식이 아닙니다. (예: VIP-2,R-1 형태)`

- [ ] 멤버십 등급 입력 기능 예외 상황
    - [ ]  **존재하지 않는 등급**(없음/실버/골드/VIP 외)
      → `[ERROR] 유효하지 않은 멤버십 등급입니다.`
    - [ ]  **공백/특수문자/숫자** 등 잘못된 형식
      → `[ERROR] 멤버십 등급은 텍스트로 입력해 주세요. (없음/실버/골드/VIP)`

- [ ] 할인 기능 예외 상황
    - [ ]  **합산 할인 후 결제 금액이 0원 이하**
      → `[ERROR] 결제 금액이 0원 이하입니다. 예매를 진행할 수 없습니다.`
    - [ ]  **사전 예약 할인 + 멤버십 할인**이 20% 초과 (필요 시)
      → `[ERROR] 최대 20%까지만 할인 가능합니다.`
